<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="" name="keywords">
    <meta name="description" content="">
    <title>张峻松</title>
    <link rel="icon" href="">
</head>
<body>

<div class="box box2 box3"></div>

</body>
</html>
<script>

    /*
    * 判断元素有没有某个类名
    * 就是看元素所有的  类名中是否有这个类名
    * */
    function hasClass(ele,str) {
        str = str.replace(/^ +| +$/g,'');
        var ary = str.split(/ +/g);
        for (var i = 0; i < ary.length; i++) {
            var reg = new RegExp('(^| +)'+ary[i]+'( +|$)');
            if(!reg.test(ele.className)){
                return false
            }
        }
        return true
    }
    var box = document.getElementsByClassName('box')[0];
    /*
    * 给元素添加类名  addClass
    * 思路1  先把str  跟元素之前的类名拼接起来；然后分割成数组，给数租去重；
    *        去重之后  在用空格拼接成字符串；把这个字符串  赋给元素的className
    * */
    function addClass(ele,str) {
        str = str.replace(/^ +| +$/g,'');//去除首位空格
        if(hasClass(ele,str))return;//如果之前有这个类名；直接return
        var ary = str.split(/ +/g);//把str  分割数组，每一项都是一个类名
        for (var i = 0; i < ary.length; i++) {
            if(!hasClass(ary[i])){
                ele.className += (' ' + ary[i]);
            }
        }
    }

    function removeClass(ele,str) {
        str = str.replace(/^ +| +$/g,'');
        var ary = str.split(/ +/g);
        for (var i = 0; i < ary.length; i++) {
            if(hasClass(ary[i])){
                var reg = new RegExp('(^| +)'+ary[i]+'( +|$)');
                ele.className = ele.className.replace(reg,' ')
            }
        }
    }
    removeClass(box,box2)


</script>