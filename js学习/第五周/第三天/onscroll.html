<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="" name="keywords">
    <meta name="description" content="">
    <title>张峻松</title>
    <link rel="icon" href="">
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #div1{
            height: 2000px;
            background-color: #cccccc;
        }
        img{
            width: 200px;
            height: 200px;
        }
        .bottom{
            height: 200px;
            background-color: #cccccc;
        }
    </style>
</head>
<body>

<div id="div1"></div>
<!--
1.jpg  当做默认图    2.jpg  当做真正的图片链接
-->
<img src="img/1.jpg" alt="">

<div class="bottom"></div>


</body>
</html>
<script>
    //window.onresize 监听  浏览器可视窗口的变化
    //window.onscroll 监听  浏览器页面滚动事件
    window.onscroll = function () {

    }

    /*
    * 图片懒加载
    * 只有当页面滚动到图片位置显示的时候才去加载图片   一开始图片的位置可以放一张小的默认图
    * 优势：提升页面的加载速度
    *       在移动端省流量
    *
    * 实现的原理：监听页面滚动；当页面滑动到图片位置的时候在去让   图片显示（就是让图片的路径换成真正的链接）
    * */


    /*
    * 需求：  当页面滑动  图片的头部刚刚漏出来时  让图片的链接换成  img/2.jpg
    *
    * */

    function imgLoad(ele) {
//        var tarT = ele.offsetTop;
        var tarT = ele.offsetTop + ele.clientHeight;
        var cliH = document.documentElement.clientHeight || document.body.clientHeight
        var scrH = document.documentElement.scrollTop;
        if( scrH + cliH > tarT){
            ele.src = 'img/2.jpg'
        }
    }
    var img = document.getElementsByTagName('img')[0];
    window.onscroll = function () {
        imgLoad(img)
    }

</script>